import{a as _,b as A,c as K,d as W}from"./chunk-UL5PBS42.js";import{a as G,b as J}from"./chunk-SM44V6M2.js";import{b as q,c as j}from"./chunk-KXV4LCLH.js";import{h as H,j as P}from"./chunk-K6XGXEEI.js";import{a as O,b as R,c as k,d as I,e as z,f as N,g as $,h as F,i as Q,j as V,k as B,l as U,m as h}from"./chunk-HHEQMK6E.js";import{r as X}from"./chunk-7NX6WSA5.js";import"./chunk-KGMDBVA3.js";import{Cb as o,Db as n,Eb as f,Fb as l,Gb as c,Ib as v,Kb as L,Lb as D,Nc as y,Pb as C,Qb as x,Rb as b,Vb as r,Wb as u,Xa as a,ab as M,cc as E,dc as T,hb as w,ia as S,ja as g,lb as m,sb as s}from"./chunk-ZGQRFODO.js";var tt=()=>[5,10,20],et=t=>["/horarios/edicion",t];function it(t,e){t&1&&(o(0,"th",16),r(1,"ID"),n())}function ot(t,e){if(t&1&&(o(0,"td",17),r(1),n()),t&2){let i=e.$implicit;a(),u(i.idHorario)}}function nt(t,e){t&1&&(o(0,"th",16),r(1,"Fecha"),n())}function rt(t,e){if(t&1&&(o(0,"td",17),r(1),n()),t&2){let i=e.$implicit;a(),u(i.fecha)}}function at(t,e){t&1&&(o(0,"th",16),r(1,"Hora"),n())}function mt(t,e){if(t&1&&(o(0,"td",17),r(1),n()),t&2){let i=e.$implicit;a(),u(i.hora)}}function lt(t,e){t&1&&(o(0,"th",16),r(1,"Psic\xF3logo"),n())}function ct(t,e){if(t&1&&(o(0,"td",17),r(1),n()),t&2){let i=e.$implicit;a(),u(i.nombreUsuario)}}function pt(t,e){t&1&&(o(0,"th",16),r(1,"Disponible"),n())}function dt(t,e){if(t&1&&(o(0,"td",17),r(1),n()),t&2){let i=e.$implicit;a(),u(i.disponible?"S\xED":"No")}}function st(t,e){t&1&&(o(0,"th",16),r(1,"Editar"),n())}function ut(t,e){if(t&1&&(o(0,"td",17)(1,"button",18)(2,"mat-icon"),r(3,"edit"),n()()()),t&2){let i=e.$implicit;a(),s("routerLink",T(1,et,i.idHorario))}}function ft(t,e){t&1&&(o(0,"th",16),r(1,"Eliminar"),n())}function ht(t,e){if(t&1){let i=v();o(0,"td",17)(1,"button",19),L("click",function(){let d=S(i).$implicit,Z=D();return g(Z.eliminar(d.idHorario))}),o(2,"mat-icon"),r(3,"delete"),n()()()}}function _t(t,e){t&1&&f(0,"tr",20)}function Ct(t,e){t&1&&f(0,"tr",21)}function xt(t,e){t&1&&(o(0,"tr",22)(1,"td",23),r(2,"No hay horarios registrados."),n()())}var Y=class t{constructor(e){this.horarioService=e}dataSource=new h;displayedColumns=["idHorario","fecha","hora","nombreUsuario","disponible","editar","eliminar"];paginator;sort;ngOnInit(){this.horarioService.list().subscribe(e=>{this.horarioService.setList(e)}),this.horarioService.getList().subscribe(e=>{this.dataSource=new h(e),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}eliminar(e){this.horarioService.delete(e).subscribe(()=>{this.horarioService.list().subscribe(i=>{this.horarioService.setList(i),this.dataSource=new h(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})})}static \u0275fac=function(i){return new(i||t)(M(X))};static \u0275cmp=w({type:t,selectors:[["app-listarhorario"]],viewQuery:function(i,p){if(i&1&&(C(_,5),C(K,5)),i&2){let d;x(d=b())&&(p.paginator=d.first),x(d=b())&&(p.sort=d.first)}},decls:31,vars:5,consts:[[1,"container"],["mat-button","","routerLink","nuevo",1,"btn-accion"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","idHorario"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","fecha"],["matColumnDef","hora"],["matColumnDef","nombreUsuario"],["matColumnDef","disponible"],["matColumnDef","editar"],["matColumnDef","eliminar"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no-data-row",4,"matNoDataRow"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-button","",1,"btn-accion",3,"routerLink"],["mat-button","","color","warn",1,"btn-accion",3,"click"],["mat-header-row",""],["mat-row",""],[1,"no-data-row"],["colspan","7",2,"text-align","center","padding","20px"]],template:function(i,p){i&1&&(o(0,"div",0)(1,"h1"),r(2,"Lista de Horarios"),n(),o(3,"button",1),r(4,"+ Nuevo Horario"),n(),o(5,"table",2),l(6,3),m(7,it,2,0,"th",4)(8,ot,2,1,"td",5),c(),l(9,6),m(10,nt,2,0,"th",4)(11,rt,2,1,"td",5),c(),l(12,7),m(13,at,2,0,"th",4)(14,mt,2,1,"td",5),c(),l(15,8),m(16,lt,2,0,"th",4)(17,ct,2,1,"td",5),c(),l(18,9),m(19,pt,2,0,"th",4)(20,dt,2,1,"td",5),c(),l(21,10),m(22,st,2,0,"th",4)(23,ut,4,3,"td",5),c(),l(24,11),m(25,ft,2,0,"th",4)(26,ht,4,0,"td",5),c(),m(27,_t,1,0,"tr",12)(28,Ct,1,0,"tr",13)(29,xt,3,0,"tr",14),n(),f(30,"mat-paginator",15),n()),i&2&&(a(5),s("dataSource",p.dataSource),a(22),s("matHeaderRowDef",p.displayedColumns),a(),s("matRowDefColumns",p.displayedColumns),a(2),s("pageSizeOptions",E(4,tt)))},dependencies:[y,U,O,k,$,I,R,F,z,N,Q,V,B,j,q,J,G,P,H,A,_,W],styles:[".container[_ngcontent-%COMP%]{max-width:900px;margin:30px auto;padding:20px;background-color:#f7f7f7;border-radius:15px;box-shadow:0 4px 8px #0000001a}h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;font-size:24px;font-weight:600;color:#3f51b5}button.mat-button[_ngcontent-%COMP%]{background-color:#3f51b5;color:#fff;padding:10px 20px;border-radius:8px;font-size:14px;margin-bottom:20px;white-space:nowrap}button.mat-button[_ngcontent-%COMP%]:hover{background-color:#303f9f}table[_ngcontent-%COMP%]{width:100%;table-layout:fixed;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center;padding:10px 5px;word-wrap:break-word;font-size:14px}th[_ngcontent-%COMP%]{font-weight:700;color:#333}button.btn-accion[_ngcontent-%COMP%]{background-color:#3f51b5;color:#fff;border:none;border-radius:8px;padding:6px 12px;font-size:13px;min-width:60px;cursor:pointer;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}button.btn-accion[_ngcontent-%COMP%]:hover{background-color:#303f9f}.mat-column-c4[_ngcontent-%COMP%], .mat-column-c5[_ngcontent-%COMP%], .mat-column-c6[_ngcontent-%COMP%]{width:90px}"]})};export{Y as ListarhorarioComponent};
